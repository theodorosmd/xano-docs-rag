<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><title>Combining Text-to-SQL with Semantic Search for Retrieval Augmented Generation — LlamaIndex - Build Knowledge Assistants over your Enterprise Data</title><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"/><link rel="manifest" href="/site.webmanifest"/><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"/><meta name="msapplication-TileColor" content="#da532c"/><meta name="theme-color" content="#ffffff"/><meta name="title" content="Combining Text-to-SQL with Semantic Search for Retrieval Augmented Generation — LlamaIndex - Build Knowledge Assistants over your Enterprise Data"/><meta name="description" content="LlamaIndex is a simple, flexible framework for building knowledge assistants using LLMs connected to your enterprise data."/><meta property="og:title" content="Combining Text-to-SQL with Semantic Search for Retrieval Augmented Generation — LlamaIndex - Build Knowledge Assistants over your Enterprise Data"/><meta property="og:description" content="LlamaIndex is a simple, flexible framework for building knowledge assistants using LLMs connected to your enterprise data."/><meta property="og:image" content="https://cdn.sanity.io/images/7m9jw85w/production/d7fa7969f759222833f61b44703d736d209b1f31-3606x1586.png"/><meta property="twitter:card" content="summary_large_image"/><meta property="twitter:title" content="Combining Text-to-SQL with Semantic Search for Retrieval Augmented Generation — LlamaIndex - Build Knowledge Assistants over your Enterprise Data"/><meta property="twitter:description" content="LlamaIndex is a simple, flexible framework for building knowledge assistants using LLMs connected to your enterprise data."/><meta property="twitter:image" content="https://cdn.sanity.io/images/7m9jw85w/production/d7fa7969f759222833f61b44703d736d209b1f31-3606x1586.png"/><link rel="alternate" type="application/rss+xml" href="https://www.llamaindex.ai/blog/feed"/><meta name="next-head-count" content="20"/><script>
            (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-WWRFB36R');
            </script><link rel="preload" href="/_next/static/css/41c9222e47d080c9.css" as="style"/><link rel="stylesheet" href="/_next/static/css/41c9222e47d080c9.css" data-n-g=""/><link rel="preload" href="/_next/static/css/97c33c8d95f1230e.css" as="style"/><link rel="stylesheet" href="/_next/static/css/97c33c8d95f1230e.css" data-n-p=""/><link rel="preload" href="/_next/static/css/e009059e80bf60c5.css" as="style"/><link rel="stylesheet" href="/_next/static/css/e009059e80bf60c5.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-1b629d9c8fb16f34.js" defer=""></script><script src="/_next/static/chunks/framework-df1f68dff096b68a.js" defer=""></script><script src="/_next/static/chunks/main-eca7952a704663f8.js" defer=""></script><script src="/_next/static/chunks/pages/_app-c7c49437be49d2ad.js" defer=""></script><script src="/_next/static/chunks/d9067523-4985945b21298365.js" defer=""></script><script src="/_next/static/chunks/41155975-60c12da9ce9fa0b2.js" defer=""></script><script src="/_next/static/chunks/cb355538-cee2ea45674d9de3.js" defer=""></script><script src="/_next/static/chunks/9494-dff62cb53535dd7d.js" defer=""></script><script src="/_next/static/chunks/4063-39a391a51171ff87.js" defer=""></script><script src="/_next/static/chunks/6889-edfa85b69b88a372.js" defer=""></script><script src="/_next/static/chunks/5575-11ee0a29eaffae61.js" defer=""></script><script src="/_next/static/chunks/3444-95c636af25a42734.js" defer=""></script><script src="/_next/static/chunks/pages/blog/%5Bslug%5D-82c8e764e69afd2c.js" defer=""></script><script src="/_next/static/C8J-EMc_4OCN1ch65l4fl/_buildManifest.js" defer=""></script><script src="/_next/static/C8J-EMc_4OCN1ch65l4fl/_ssgManifest.js" defer=""></script></head><body><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WWRFB36R" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div id="__next"><div class="__variable_d65c78 __variable_b1ea77 __variable_eb7534"><a class="Announcement_announcement__2ohK8" href="http://48755185.hs-sites.com/llamaindex-0">Meet LlamaIndex at the Databricks Data + AI Summit!<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M8.293 5.293a1 1 0 0 1 1.414 0l6 6a1 1 0 0 1 0 1.414l-6 6a1 1 0 0 1-1.414-1.414L13.586 12 8.293 6.707a1 1 0 0 1 0-1.414Z" clip-rule="evenodd"></path></svg></a><header class="Header_header__hO3lJ"><button class="Hamburger_hamburger__17auO Header_hamburger__lUulX"><svg width="28" height="28" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 14H24.5" stroke="#212121" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" id="hamburger-stroke-top" class="Hamburger_hamburgerStrokeMiddle__I7VpD"></path><path d="M3.5 7H24.5" stroke="#212121" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="Hamburger_hamburgerStrokeTop__oOhFM"></path><path d="M3.5 21H24.5" stroke="#212121" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="Hamburger_hamburgerStrokeBottom__GIQR2"></path></svg></button><a aria-label="Homepage" href="/"><img alt="LlamaIndex" loading="lazy" width="213" height="42" decoding="async" data-nimg="1" class="Header_logo__e5KhT" style="color:transparent" src="/llamaindex.svg"/></a><nav aria-label="Main" data-orientation="horizontal" dir="ltr" style="--content-position:0px"><div style="position:relative"><ul data-orientation="horizontal" class="Nav_MenuList__PrCDJ" dir="ltr"><li><button id="radix-:R6tm:-trigger-radix-:R5mtm:" data-state="closed" aria-expanded="false" aria-controls="radix-:R6tm:-content-radix-:R5mtm:" class="Nav_Trigger__ws43x" data-radix-collection-item="">Products</button></li><li><button id="radix-:R6tm:-trigger-radix-:R9mtm:" data-state="closed" aria-expanded="false" aria-controls="radix-:R6tm:-content-radix-:R9mtm:" class="Nav_Trigger__ws43x" data-radix-collection-item="">Solutions</button></li><li><a class="Nav_Link__ZrzFc" href="/community" data-radix-collection-item="">Community</a></li><li><a class="Nav_Link__ZrzFc" href="/pricing" data-radix-collection-item="">Pricing</a></li><li><a class="Nav_Link__ZrzFc" href="/blog" data-radix-collection-item="">Blog</a></li><li><a class="Nav_Link__ZrzFc" href="/customers" data-radix-collection-item="">Customer stories</a></li><li><a class="Nav_Link__ZrzFc" href="/careers" data-radix-collection-item="">Careers</a></li></ul></div><div class="Nav_ViewportPosition__jmyHM"></div></nav><div class="Header_secondNav__YJvm8"><nav><a href="/contact" class="Link_link__71cl8 Link_link-variant-tertiary__BYxn_ Header_bookADemo__qCuxV">Book a demo</a></nav><a href="https://cloud.llamaindex.ai/" class="Button_button-variant-default__Oi__n Button_button__aJ0V6 Header_button__1HFhY" data-tracking-variant="default"> <!-- -->Get started</a></div><div class="MobileMenu_mobileMenu__g5Fa6"><nav class="MobileMenu_nav__EmtTw"><ul><li><details class="MobileMenu_ListItem__yMtVi"><summary class="MobileMenu_ListItemHeading___yPC6">Products<!-- --> <span class="MobileMenu_icon__6gmaF"><svg width="11" height="6" viewBox="0 0 11 6" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10 1L5.5 5L1 1" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></span></summary><ul class="MobileMenu_List__XjJr0"><li><a class="MobileMenu_ListItemLink__dnvmV" href="/llamaparse"><div class="MobileMenu_ListItemHeading___yPC6"><svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M11.6654 1.66675V6.66675H16.6654M8.33203 10.8334L6.66536 12.5001L8.33203 14.1667M11.6654 14.1667L13.332 12.5001L11.6654 10.8334M12.082 1.66675H4.9987C4.55667 1.66675 4.13275 1.84234 3.82019 2.1549C3.50763 2.46746 3.33203 2.89139 3.33203 3.33341V16.6667C3.33203 17.1088 3.50763 17.5327 3.82019 17.8453C4.13275 18.1578 4.55667 18.3334 4.9987 18.3334H14.9987C15.4407 18.3334 15.8646 18.1578 16.1772 17.8453C16.4898 17.5327 16.6654 17.1088 16.6654 16.6667V6.25008L12.082 1.66675Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>Document parsing</div><p class="MobileMenu_ListItemText__n_MHY">The first and leading GenAI-native parser over your most complex data.</p></a></li><li><a class="MobileMenu_ListItemLink__dnvmV" href="/llamaextract"><div class="MobileMenu_ListItemHeading___yPC6"><svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M11.668 1.66675V5.00008C11.668 5.44211 11.8436 5.86603 12.1561 6.17859C12.4687 6.49115 12.8926 6.66675 13.3346 6.66675H16.668M3.33464 5.83341V3.33341C3.33464 2.89139 3.51023 2.46746 3.82279 2.1549C4.13535 1.84234 4.55927 1.66675 5.0013 1.66675H12.5013L16.668 5.83341V16.6667C16.668 17.1088 16.4924 17.5327 16.1798 17.8453C15.8672 18.1578 15.4433 18.3334 15.0013 18.3334L5.05379 18.3326C4.72458 18.3755 4.39006 18.3191 4.09312 18.1706C3.79618 18.0221 3.55034 17.7884 3.38713 17.4992M4.16797 9.16675L1.66797 11.6667M1.66797 11.6667L4.16797 14.1667M1.66797 11.6667H10.0013" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>Data extraction</div><p class="MobileMenu_ListItemText__n_MHY">Extract structured data from documents using a schema-driven engine.</p></a></li><li><a class="MobileMenu_ListItemLink__dnvmV" href="/enterprise"><div class="MobileMenu_ListItemHeading___yPC6"><svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M9.16667 15.8333C12.8486 15.8333 15.8333 12.8486 15.8333 9.16667C15.8333 5.48477 12.8486 2.5 9.16667 2.5C5.48477 2.5 2.5 5.48477 2.5 9.16667C2.5 12.8486 5.48477 15.8333 9.16667 15.8333Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M17.5 17.5L13.875 13.875" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>Knowledge Management</div><p class="MobileMenu_ListItemText__n_MHY">Connect, transform, and index your enterprise data into an agent-accessible knowledge base</p></a></li><li><a class="MobileMenu_ListItemLink__dnvmV" href="/framework"><div class="MobileMenu_ListItemHeading___yPC6"><svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10.0013 6.66659V3.33325H6.66797M1.66797 11.6666H3.33464M16.668 11.6666H18.3346M12.5013 10.8333V12.4999M7.5013 10.8333V12.4999M5.0013 6.66659H15.0013C15.9218 6.66659 16.668 7.41278 16.668 8.33325V14.9999C16.668 15.9204 15.9218 16.6666 15.0013 16.6666H5.0013C4.08083 16.6666 3.33464 15.9204 3.33464 14.9999V8.33325C3.33464 7.41278 4.08083 6.66659 5.0013 6.66659Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>Agent Framework</div><p class="MobileMenu_ListItemText__n_MHY">Orchestrate and deploy multi-agent applications over your data with the #1 agent framework.</p></a></li></ul></details></li><li><details class="MobileMenu_ListItem__yMtVi"><summary class="MobileMenu_ListItemHeading___yPC6">Solutions<!-- --> <span class="MobileMenu_icon__6gmaF"><svg width="11" height="6" viewBox="0 0 11 6" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10 1L5.5 5L1 1" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></span></summary><ul class="MobileMenu_List__XjJr0"><li><a class="MobileMenu_ListItemLink__dnvmV" href="/solutions/finance"><div class="MobileMenu_ListItemHeading___yPC6"><svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13.3307 6.66675H8.33073C7.8887 6.66675 7.46478 6.84234 7.15222 7.1549C6.83966 7.46746 6.66406 7.89139 6.66406 8.33342C6.66406 8.77544 6.83966 9.19937 7.15222 9.51193C7.46478 9.82449 7.8887 10.0001 8.33073 10.0001H11.6641C12.1061 10.0001 12.53 10.1757 12.8426 10.4882C13.1551 10.8008 13.3307 11.2247 13.3307 11.6667C13.3307 12.1088 13.1551 12.5327 12.8426 12.8453C12.53 13.1578 12.1061 13.3334 11.6641 13.3334H6.66406M9.9974 15.0001V5.00008M18.3307 10.0001C18.3307 14.6025 14.5998 18.3334 9.9974 18.3334C5.39502 18.3334 1.66406 14.6025 1.66406 10.0001C1.66406 5.39771 5.39502 1.66675 9.9974 1.66675C14.5998 1.66675 18.3307 5.39771 18.3307 10.0001Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>Financial Analysts</div></a></li><li><a class="MobileMenu_ListItemLink__dnvmV" href="/solutions/administrative-operations"><div class="MobileMenu_ListItemHeading___yPC6"><svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1.66406 6.66659V15.8333C1.66406 16.2753 1.83966 16.6992 2.15222 17.0118C2.46478 17.3243 2.8887 17.4999 3.33073 17.4999H14.9974M16.6641 14.1666C17.1061 14.1666 17.53 13.991 17.8426 13.6784C18.1551 13.3659 18.3307 12.9419 18.3307 12.4999V7.49992C18.3307 7.05789 18.1551 6.63397 17.8426 6.32141C17.53 6.00885 17.1061 5.83325 16.6641 5.83325H13.4141C13.1353 5.83598 12.8604 5.76876 12.6143 5.63774C12.3683 5.50671 12.159 5.31606 12.0057 5.08325L11.3307 4.08325C11.179 3.85281 10.9724 3.66365 10.7295 3.53275C10.4866 3.40185 10.215 3.3333 9.93906 3.33325H6.66406C6.22204 3.33325 5.79811 3.50885 5.48555 3.82141C5.17299 4.13397 4.9974 4.55789 4.9974 4.99992V12.4999C4.9974 12.9419 5.17299 13.3659 5.48555 13.6784C5.79811 13.991 6.22204 14.1666 6.66406 14.1666H16.6641Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>Administrative Operations</div></a></li><li><a class="MobileMenu_ListItemLink__dnvmV" href="/solutions/engineering"><div class="MobileMenu_ListItemHeading___yPC6"><svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13.3307 15L18.3307 10L13.3307 5M6.66406 5L1.66406 10L6.66406 15" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>Engineering &amp; R&amp;D</div></a></li><li><a class="MobileMenu_ListItemLink__dnvmV" href="/solutions/customer-support"><div class="MobileMenu_ListItemHeading___yPC6"><svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M14.9974 7.50008H16.6641C17.1061 7.50008 17.53 7.67568 17.8426 7.98824C18.1551 8.3008 18.3307 8.72472 18.3307 9.16675V18.3334L14.9974 15.0001H9.9974C9.55537 15.0001 9.13145 14.8245 8.81888 14.5119C8.50632 14.1994 8.33073 13.7754 8.33073 13.3334V12.5001M11.6641 7.50008C11.6641 7.94211 11.4885 8.36603 11.1759 8.67859C10.8633 8.99115 10.4394 9.16675 9.9974 9.16675H4.9974L1.66406 12.5001V3.33341C1.66406 2.41675 2.41406 1.66675 3.33073 1.66675H9.9974C10.4394 1.66675 10.8633 1.84234 11.1759 2.1549C11.4885 2.46746 11.6641 2.89139 11.6641 3.33341V7.50008Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>Customer Support</div></a></li><li><a class="MobileMenu_ListItemLink__dnvmV" href="/solutions/healthcare-pharma"><div class="MobileMenu_ListItemHeading___yPC6"><svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M17.0128 3.81671C16.5948 3.39719 16.098 3.06433 15.551 2.8372C15.004 2.61008 14.4176 2.49316 13.8253 2.49316C13.2331 2.49316 12.6466 2.61008 12.0996 2.8372C11.5527 3.06433 11.0559 3.39719 10.6378 3.81671L9.99617 4.46671L9.3545 3.81671C8.93643 3.39719 8.43967 3.06433 7.89268 2.8372C7.3457 2.61008 6.75926 2.49316 6.167 2.49316C5.57474 2.49316 4.9883 2.61008 4.44132 2.8372C3.89433 3.06433 3.39756 3.39719 2.9795 3.81671C1.21283 5.58338 1.1045 8.56671 3.3295 10.8334L9.99617 17.5L16.6628 10.8334C18.8878 8.56671 18.7795 5.58338 17.0128 3.81671Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M2.91406 9.99992H7.91406L8.33073 9.16659L9.9974 12.9166L11.6641 7.08325L12.9141 9.99992H17.0807" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>Healthcare / Pharma</div></a></li></ul></details></li><li><a class="MobileMenu_Link__5frcx" href="/community">Community</a></li><li><a class="MobileMenu_Link__5frcx" href="/pricing">Pricing</a></li><li><a class="MobileMenu_Link__5frcx" href="/blog">Blog</a></li><li><a class="MobileMenu_Link__5frcx" href="/customers">Customer stories</a></li><li><a class="MobileMenu_Link__5frcx" href="/careers">Careers</a></li></ul></nav><a href="/contact" class="Button_button-variant-ghost__o2AbG Button_button__aJ0V6" data-tracking-variant="ghost"> <!-- -->Talk to us</a><ul class="Socials_socials__8Y_s5 Socials_socials-theme-dark__Hq8lc MobileMenu_socials__JykCO"><li><a href="https://github.com/run-llama/llama_index"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 496 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></a></li><li><a href="https://discord.com/invite/eN6D2HQ4aX"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 640 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M524.531,69.836a1.5,1.5,0,0,0-.764-.7A485.065,485.065,0,0,0,404.081,32.03a1.816,1.816,0,0,0-1.923.91,337.461,337.461,0,0,0-14.9,30.6,447.848,447.848,0,0,0-134.426,0,309.541,309.541,0,0,0-15.135-30.6,1.89,1.89,0,0,0-1.924-.91A483.689,483.689,0,0,0,116.085,69.137a1.712,1.712,0,0,0-.788.676C39.068,183.651,18.186,294.69,28.43,404.354a2.016,2.016,0,0,0,.765,1.375A487.666,487.666,0,0,0,176.02,479.918a1.9,1.9,0,0,0,2.063-.676A348.2,348.2,0,0,0,208.12,430.4a1.86,1.86,0,0,0-1.019-2.588,321.173,321.173,0,0,1-45.868-21.853,1.885,1.885,0,0,1-.185-3.126c3.082-2.309,6.166-4.711,9.109-7.137a1.819,1.819,0,0,1,1.9-.256c96.229,43.917,200.41,43.917,295.5,0a1.812,1.812,0,0,1,1.924.233c2.944,2.426,6.027,4.851,9.132,7.16a1.884,1.884,0,0,1-.162,3.126,301.407,301.407,0,0,1-45.89,21.83,1.875,1.875,0,0,0-1,2.611,391.055,391.055,0,0,0,30.014,48.815,1.864,1.864,0,0,0,2.063.7A486.048,486.048,0,0,0,610.7,405.729a1.882,1.882,0,0,0,.765-1.352C623.729,277.594,590.933,167.465,524.531,69.836ZM222.491,337.58c-28.972,0-52.844-26.587-52.844-59.239S193.056,219.1,222.491,219.1c29.665,0,53.306,26.82,52.843,59.239C275.334,310.993,251.924,337.58,222.491,337.58Zm195.38,0c-28.971,0-52.843-26.587-52.843-59.239S388.437,219.1,417.871,219.1c29.667,0,53.307,26.82,52.844,59.239C470.715,310.993,447.538,337.58,417.871,337.58Z"></path></svg></a></li><li><a href="https://twitter.com/llama_index"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z"></path></svg></a></li><li><a href="https://www.linkedin.com/company/91154103/"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"></path></svg></a></li><li><a href="https://www.youtube.com/@LlamaIndex"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 576 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"></path></svg></a></li></ul><p class="Text_text__zPO0D Text_text-size-16__PkjFu MobileMenu_copyright__nKVOs">© <!-- -->2025<!-- --> LlamaIndex</p></div></header><main><section class="BlogPost_post__JHNzd"><img alt="" loading="lazy" width="800" height="793" decoding="async" data-nimg="1" class="BlogPost_featuredImage__KGxwX" style="color:transparent" srcSet="/_next/image?url=https%3A%2F%2Fcdn.sanity.io%2Fimages%2F7m9jw85w%2Fproduction%2Fd7fa7969f759222833f61b44703d736d209b1f31-3606x1586.png%3Ffit%3Dmax%26auto%3Dformat&amp;w=828&amp;q=75 1x, /_next/image?url=https%3A%2F%2Fcdn.sanity.io%2Fimages%2F7m9jw85w%2Fproduction%2Fd7fa7969f759222833f61b44703d736d209b1f31-3606x1586.png%3Ffit%3Dmax%26auto%3Dformat&amp;w=1920&amp;q=75 2x" src="/_next/image?url=https%3A%2F%2Fcdn.sanity.io%2Fimages%2F7m9jw85w%2Fproduction%2Fd7fa7969f759222833f61b44703d736d209b1f31-3606x1586.png%3Ffit%3Dmax%26auto%3Dformat&amp;w=1920&amp;q=75"/><p class="Text_text__zPO0D Text_text-size-16__PkjFu Text_text-weight-600__fKYth BlogPost_date__6uxQw"><a class="BlogPost_author__mesdl" href="/blog/author/jerry-liu">Jerry Liu</a> <!-- -->•<!-- --> <!-- -->2023-05-28</p><h1 class="Text_text__zPO0D Text_text-size-32__koGps BlogPost_title__b2lqJ">Combining Text-to-SQL with Semantic Search for Retrieval Augmented Generation</h1><ul class="BlogPost_tags__13pBH"><li><a class="Badge_badge___1ssn" href="/blog/tag/artificial-intelligence"><span class="Text_text__zPO0D Text_text-size-16__PkjFu Text_text-weight-500__f2npw">Artificial Intelligence</span></a></li><li><a class="Badge_badge___1ssn" href="/blog/tag/machine-learning"><span class="Text_text__zPO0D Text_text-size-16__PkjFu Text_text-weight-500__f2npw">Machine Learning</span></a></li><li><a class="Badge_badge___1ssn" href="/blog/tag/nlp"><span class="Text_text__zPO0D Text_text-size-16__PkjFu Text_text-weight-500__f2npw">NLP</span></a></li><li><a class="Badge_badge___1ssn" href="/blog/tag/data-science"><span class="Text_text__zPO0D Text_text-size-16__PkjFu Text_text-weight-500__f2npw">Data Science</span></a></li><li><a class="Badge_badge___1ssn" href="/blog/tag/database"><span class="Text_text__zPO0D Text_text-size-16__PkjFu Text_text-weight-500__f2npw">Database</span></a></li></ul><div class="BlogPost_htmlPost__Z5oDL"><h1>Summary</h1><p>In this article, we showcase a powerful new query engine ( <code class="cw ow ox oy oz b">SQLAutoVectorQueryEngine</code> ) in LlamaIndex that can leverage both a SQL database as well as a vector store to fulfill complex natural language queries over a combination of structured and unstructured data. This query engine can leverage the expressivity of SQL over structured data, and join it with unstructured context from a vector database. We showcase this query engine on a few examples and show that it can handle queries that make use of both structured/unstructured data, or either.</p><p>Check out the full guide here: <a href="https://gpt-index.readthedocs.io/en/latest/examples/query_engine/SQLAutoVectorQueryEngine.html" rel="noopener ugc nofollow" target="_blank">https://gpt-index.readthedocs.io/en/latest/examples/query_engine/SQLAutoVectorQueryEngine.html</a>.</p><h1>Context</h1><p>Data lakes in enterprises typically encompass both <strong>structured</strong> and <strong>unstructured</strong> data. Structured data is typically stored in a tabular format in SQL databases, organized into tables with predefined schemas and relationships between entities. On the other hand, unstructured data found in data lakes lacks a predefined structure and does not fit neatly into traditional databases. This type of data includes text documents, but also other multimodal formats such as audio recordings, videos, and more.</p><p>Large Language Models (LLMs) have the ability to extract insights from both structured and unstructured data. There have been some initial tooling and stacks that have emerged for tackling both types of data:</p><ul><li><strong>Text-to-SQL (Structured data): </strong>Given a collection of tabular schemas, we convert<strong> </strong>natural language into a SQL statement which can then be executed against the database.</li><li><strong>Semantic Search with a Vector Database (Unstructured Data): </strong>Store unstructured documents along with their embeddings in a vector database (e.g. Pinecone, Chroma, Milvus, Weaviate, etc.). During query-time, fetch the relevant documents by embedding similarity, and then put into the LLM input prompt to synthesize a response.</li></ul><p>Each of these stacks solves particular use cases.</p><h2>Text-to-SQL Over Structured Data</h2><p>In the structured setting, SQL is an extremely expressive language for operating over tabular data — in the case of analytics, you can get aggregations, join information across multiple tables, sort by timestamp, and much more. Using the LLM to convert natural language to SQL can be thought as a program synthesis “cheat code” — just let the LLM compile to the right SQL query, and let the SQL engine on the database handle the rest!</p><p><strong>Use Case: </strong>Text-to-SQL queries are well-suited for analytics use cases where the answer can be found by executing a SQL statement. They are not suited for cases where you’d need more detail than what is found in a structured table, or if you’d need more sophisticated ways of determining relevance to the query beyond simple constructs like <code class="cw ow ox oy oz b">WHERE</code> conditions.</p><p><strong>Example queries suited for Text-to-SQL:</strong></p><ul><li>“What is the average population of cities in North America”?</li><li>“What are the largest cities and populations in each respective continent?”</li></ul><h2>Semantic Search over Unstructured Data</h2><p>In the unstructured setting, the behavior for retrieval-augmented generation systems is to first perform retrieval and then synthesis. During retrieval, we first look up the most relevant documents to the query by embedding similarity. Some vector stores support being able to handle additional metadata filters for retrieval. We can choose to manually specify the set of required filters, or have the LLM “infer” what the query string and metadata filters should be (see our <a href="https://github.com/jerryjliu/llama_index/blob/main/docs/examples/vector_stores/pinecone_auto_retriever.ipynb" rel="noopener ugc nofollow" target="_blank">auto-retrieval modules</a> in LlamaIndex or LangChain’s <a href="https://python.langchain.com/en/latest/modules/indexes/retrievers/examples/self_query.html" rel="noopener ugc nofollow" target="_blank">self-query module</a>).</p><p><strong>Use Case: </strong>Retrieval Augmented Generation is well suited for queries where the answer can be obtained within some sections of unstructured text data. Most existing vector stores (e.g. Pinecone, Chroma) do not offer a SQL-like interface; hence they are less suited for queries that involve aggregations, joins, sums, etc.</p><p><strong>Example queries suited for Retrieval Augmented Generation</strong></p><ul><li>“Tell me about the historical museums in Berlin”</li><li>“What does Jordan ask from Nick on behalf of Gatsby?”</li></ul><h2>Combining These Two Systems</h2><p>For some queries, we may want to make use of knowledge in <strong>both structured tables as well as vector databases/document stores</strong> in order to give the best answer to the query. Ideally this can give us the best of both worlds: the analytics capabilities over structured data, and semantic understanding over unstructured data.</p><p>Here’s an example use case:</p><ul><li>You have access to a collection of articles about different cities, stored in a vector database</li><li>You also have access to a structured table containing statistics for each city.</li></ul><p>Given this data collection, let’s take an example query: “Tell me about the arts and culture of the city with the highest population.”</p><p>The “proper” way to answer this question is roughly as follows:</p><ul><li>Query the structured table for the city with the highest population.</li></ul><pre><span id="3ee1" class="ql nb gt oz b bf qm qn l qo qp">SELECT city, population FROM city_stats ORDER BY population DESC LIMIT 1</span></pre><ul><li>Convert the original question into a more detailed question: “Tell me about the arts and culture of Tokyo.”</li><li>Ask the new question over your vector database.</li><li>Use the original question + intermediate queries/responses to SQL db and vector db to synthesize the answer.</li></ul><p>Let’s think about some of the high-level implications of such a sequence:</p><ul><li>Instead of doing embedding search (and optionally metadata filters) to retrieve relevant context, we want to somehow have a SQL query as a first “retrieval” step.</li><li>We want to make sure that we can somehow “join” the results from the SQL query with the context stored in the vector database. There is no existing language to “join” information between a SQL and vector database. We will have to implement this behavior ourselves.</li><li>Neither data source can answer this question on its own. The structured table only contains population information. The vector database contains city information but no easy way to query for the city with the maximum population.</li></ul><h1>A Query Engine to Combine Structured Analytics and Semantic Search</h1><p>We have created a brand-new query engine ( <code class="cw ow ox oy oz b">SQLAutoVectorQueryEngine</code> ) that can query, join, sequence, and combine both structured data from both your SQL database and unstructured data from your vector database in order to synthesize the final answer.</p><p>The <code class="cw ow ox oy oz b">SQLAutoVectorQueryEngine</code> is initialized through passing in a SQL query engine ( <code class="cw ow ox oy oz b">GPTNLStructStoreQueryEngine</code> ) as well as a query engine that uses our vector store <a href="https://github.com/jerryjliu/llama_index/blob/main/docs/examples/vector_stores/pinecone_auto_retriever.ipynb" rel="noopener ugc nofollow" target="_blank">auto-retriever module</a> ( <code class="cw ow ox oy oz b">VectorIndexAutoRetriever</code> ). Both the SQL query engine and vector query engines are wrapped as “Tool” objects containing a <code class="cw ow ox oy oz b">name</code> and <code class="cw ow ox oy oz b">description</code> field.</p><blockquote><p id="ccd6" class="ny nz qt oa b ob pa od oe of pb oh oi oj pc ol om on pd op oq or pe ot ou ov gm bj"><em class="gt">Reminder: the </em><code class="cw ow ox oy oz b"><em class="gt">VectorIndexAutoRetriever</em></code><em class="gt"> takes in a natural language query as input. Given some knowledge of the metadata schema of the vector database, the auto retriever first </em>infers <em class="gt">the other necessary query parameters to pass in (e.g. top-k value, and metadata filters), and executes a query against the vector database with all the query parameters.</em></p></blockquote><figure><figcaption class="rd fe re qu qv rf rg be b bf z dt">Diagram of the flow for SQLAutoVectorQueryEngine</figcaption><img src="/blog/images/1*_sGOqeDsgKA5XYoJeZXB3g.png" alt="" width="700" height="308"></figure><p>During query-time, we run the following steps:</p><ol><li>A selector prompt (similarly used in our <code class="cw ow ox oy oz b"><a href="https://gpt-index.readthedocs.io/en/latest/reference/query/query_engines/router_query_engine.html" rel="noopener ugc nofollow" target="_blank">RouterQueryEngine</a></code> , see <a href="https://gpt-index.readthedocs.io/en/latest/examples/query_engine/RouterQueryEngine.html" rel="noopener ugc nofollow" target="_blank">guide</a>) first chooses whether we should query the SQL database or the vector database. If it chooses to use the vector query engine, then the rest of the function execution is the same as querying the <code class="cw ow ox oy oz b">RetrieverQueryEngine</code> with <code class="cw ow ox oy oz b">VectorIndexAutoRetriever</code> .</li><li>If it chooses to query the SQL database, it will execute a text-to-SQL query operation against the database, and (optionally) synthesize a natural language output.</li><li>A <strong>query transformation </strong>is run, to convert the original question into a more detailed question given the results from the SQL query. For instance if the original question is “Tell me about the arts and culture of the city with the highest population.”, and the SQL query returns Tokyo as the city with the highest population, then the new query is “Tell me about the arts and culture of Tokyo.” The one exception is if the SQL query itself is enough to answer the original question; if it is, then function execution returns with the SQL query as the response.</li><li>The new query is then run through through the vector store query engine, which performs retrieval from the vector store and then LLM response synthesis. We enforce using a <code class="cw ow ox oy oz b">VectorIndexAutoRetriever</code> module. This allows us to automatically infer the right query parameters (query string, top k, metadata filters), given the result of the SQL query. For instance, with the example above, we may infer the query to be something like <code class="cw ow ox oy oz b">query_str="arts and culture"</code> and <code class="cw ow ox oy oz b">filters={"title": "Tokyo"}</code> .</li><li>The original question, SQL query, SQL response, vector store query, and vector store response are combined into a prompt to synthesize the final answer.</li></ol><p>Taking a step back, here are some general comments about this approach:</p><ul><li>Using our auto-retrieval module is our way of <em class="qt">simulating </em>a join between the SQL database and vector database. We effectively use the results from our SQL query to determine the parameters to query the vector database with.</li><li>This also implies that there doesn’t need to be an explicit mapping between the items in the SQL database and the metadata in the vector database, since we can rely on the LLM being able come up with the right query for different items. It would be interesting to model explicit relationships between structured tables and document store metadata though; that way we don’t need to spend an extra LLM call in the auto-retrieval step inferring the right metadata filters.</li></ul><h1>Experiments</h1><p>So how well does this work? It works surprisingly well across a broad range of queries, from queries that can leverage both structured data and unstructured data to queries that are specific to a structured data collection or unstructured data collection.</p><h2>Setup</h2><p>Our experiment setup is very simple. We have a SQL table called <code class="cw ow ox oy oz b">city_stats</code> which contains the city, population, and country of three different cities: Toronto, Tokyo, and Berlin.</p><p>We also use a Pinecone index to store Wikipedia articles corresponding to the three cities. Each article is chunked up and stored as a separate “Node” object; each chunk also contains a <code class="cw ow ox oy oz b">title</code> metadata attribute containing the city name.</p><p>We then derive the <code class="cw ow ox oy oz b">VectorIndexAutoRetriever</code> and <code class="cw ow ox oy oz b">RetrieverQueryEngine</code> from the Pinecone vector index.</p><pre><span id="ceda" class="ql nb gt oz b bf qm qn l qo qp"><span class="hljs-keyword">from</span> llama_index.indices.vector_store.retrievers <span class="hljs-keyword">import</span> VectorIndexAutoRetriever
<span class="hljs-keyword">from</span> llama_index.vector_stores.types <span class="hljs-keyword">import</span> MetadataInfo, VectorStoreInfo
<span class="hljs-keyword">from</span> llama_index.query_engine.retriever_query_engine <span class="hljs-keyword">import</span> RetrieverQueryEngine


vector_store_info = VectorStoreInfo(
    content_info=<span class="hljs-string">'articles about different cities'</span>,
    metadata_info=[
        MetadataInfo(
            name=<span class="hljs-string">'city'</span>, 
            <span class="hljs-built_in">type</span>=<span class="hljs-string">'str'</span>, 
            description=<span class="hljs-string">'The name of the city'</span>),
    ]
)
vector_auto_retriever = VectorIndexAutoRetriever(vector_index, vector_store_info=vector_store_info)

retriever_query_engine = RetrieverQueryEngine.from_args(
    vector_auto_retriever, service_context=service_context
)</span></pre><p>You can also get the SQL query engine as follows</p><pre><span id="6fc8" class="ql nb gt oz b bf qm qn l qo qp">sql_query_engine = sql_index.as_query_engine()</span></pre><p>Both the SQL query engine and vector query engine can be wrapped as <code class="cw ow ox oy oz b">QueryEngineTool</code> objects.</p><pre><span id="0ec3" class="ql nb gt oz b bf qm qn l qo qp">sql_tool = QueryEngineTool.from_defaults(
    query_engine=sql_query_engine,
    description=(
        'Useful for translating a natural language query into a SQL query over a table containing: '
        'city_stats, containing the population/country of each city'
    )
)
vector_tool = QueryEngineTool.from_defaults(
    query_engine=query_engine,
    description=f'Useful for answering semantic questions about different cities',
)</span></pre><p>Finally, we can define our <code class="cw ow ox oy oz b">SQLAutoVectorQueryEngine</code></p><pre><span id="4360" class="ql nb gt oz b bf qm qn l qo qp">query_engine = SQLAutoVectorQueryEngine(
    sql_tool,
    vector_tool,
    service_context=service_context
)</span></pre><h2>Results</h2><p>We run some example queries.</p><p><strong>Query 1</strong></p><pre><span id="33a8" class="ql nb gt oz b bf qm qn l qo qp">query_engine.query(
  'Tell me about the arts and culture of the city with the highest population'
)</span></pre><p>Intermediate steps:</p><figure><img src="/blog/images/1*T4W6P-jNV5FnT-O83KlGAg.png" alt="" width="700" height="356"></figure><p>Final Response:</p><pre><span id="4e6d" class="ql nb gt oz b bf qm qn l qo qp">Tokyo is the city with the highest population, with 13.96 million people. It is a vibrant city with a rich culture and a wide variety of art forms. From traditional Japanese art such as calligraphy and woodblock prints to modern art galleries and museums, Tokyo has something for everyone. There are also many festivals and events throughout the year that celebrate the city's culture and art. Some popular festivals and events in Tokyo include the Sannō Festival at Hie Shrine, the Sanja Festival at Asakusa Shrine, and the biennial Kanda Festivals. These events often feature parades with elaborately decorated floats and thousands of people. Additionally, an enormous fireworks display over the Sumida River takes place annually on the last Saturday of July, attracting over a million viewers. During spring, when cherry blossoms bloom, many residents gather in Ueno Park, Inokashira Park, and the Shinjuku Gyoen National Garden for picnics under the blossoms.</span></pre><p>This query runs through the full flow of the <code class="cw ow ox oy oz b">SQLAutoVectorQueryEngine</code> . It first queries the SQL database for the city with the highest population (“Tokyo”), and then queries the vector database with the new query. The results are combined into a final response.</p><p><strong>Query 2</strong></p><pre><span id="8832" class="ql nb gt oz b bf qm qn l qo qp">query_engine.query("Tell me about the history of Berlin")</span></pre><p>Intermediate Steps:</p><figure><img src="/blog/images/1*AUsRmLr0Haw1MgA3nfcHaw.png" alt="" width="700" height="221"></figure><p>Final Response:</p><pre><span id="82a0" class="ql nb gt oz b bf qm qn l qo qp">Berlin's history dates back to the early 13th century when it was founded as a small settlement. In 1618, the Margraviate of Brandenburg entered into a personal union with the Duchy of Prussia, and in 1701, they formed the Kingdom of Prussia with Berlin as its capital. The city grew and merged with neighboring cities, becoming a center of the Enlightenment under the rule of Frederick the Great in the 18th century.

The Industrial Revolution in the 19th century transformed Berlin, expanding its economy, population, and infrastructure. In 1871, it became the capital of the newly founded German Empire. The early 20th century saw Berlin as a hub for the German Expressionist movement and a major world capital known for its contributions to science, technology, arts, and other fields.

In 1933, Adolf Hitler and the Nazi Party came to power, leading to a decline in Berlin's Jewish community and the city's involvement in World War II. After the war, Berlin was divided into East and West Berlin, with the former under Soviet control and the latter under the control of the United States, United Kingdom, and France. The Berlin Wall was built in 1961, physically and ideologically dividing the city until its fall in 1989. Following the reunification of Germany in 1990, Berlin once again became the capital of a unified Germany and has since continued to grow and develop as a major global city.</span></pre><p>This query only requires the vector database and not the SQL database. The initial selector correctly identifies that we should just query the vector database and return the result.</p><p><strong>Query 3</strong></p><pre><span id="da77" class="ql nb gt oz b bf qm qn l qo qp">query_engine.query('Can you give me the country corresponding to each city?')</span></pre><p>Intermediate Steps</p><figure><img src="/blog/images/1*iy0MAKzIpQXhoiWUFR4tHQ.png" alt="" width="700" height="69"></figure><p>Final Response</p><pre><span id="27de" class="ql nb gt oz b bf qm qn l qo qp"> Toronto is in Canada, Tokyo is in Japan, and Berlin is in Germany.</span></pre><p>This query can be answered by just querying the SQL database, it does not need additional information from the vector database. The query transform step correctly identifies “None” as the followup question, indicating that the original question has been answered.</p><h1>Conclusion</h1><p>So far, the stacks around LLMs + unstructured data and LLMs + structured data have largely been separate. We’re excited about how combining LLMs on top of both structured and unstructured data can unlock new retrieval/query capabilities in novel and interesting ways!</p><p>We’d love for you to try out the <code class="cw ow ox oy oz b">SQLAutoVectorQueryEngine</code> and let us know what you think.</p><p>The full notebook walkthrough can be found <a href="https://gpt-index.readthedocs.io/en/latest/examples/query_engine/SQLAutoVectorQueryEngine.html" rel="noopener ugc nofollow" target="_blank">in this guide</a> (<a href="https://github.com/jerryjliu/llama_index/blob/main/docs/examples/query_engine/SQLAutoVectorQueryEngine.ipynb" rel="noopener ugc nofollow" target="_blank">associated notebook</a>).</p></div><div class="BlogPost_relatedPosts__0z6SN"><h2 class="Text_text__zPO0D Text_text-align-center__HhKqo Text_text-size-16__PkjFu Text_text-weight-400__5ENkK Text_text-family-spaceGrotesk__E4zcE BlogPost_relatedPostsTitle___JIrW">Related articles</h2><ul class="BlogPost_relatedPostsList__uOKzB"><li><div class="CardBlog_card__mm0Zw"><div class="CardBlog_thumbnail__XCu_R"><img alt="" loading="lazy" width="400" height="280" decoding="async" data-nimg="1" class="CardBlog_image__I2Asd" style="color:transparent" srcSet="/_next/image?url=https%3A%2F%2Fcdn.sanity.io%2Fimages%2F7m9jw85w%2Fproduction%2Fa195d5cbe68a6c2cb0847c985ead93111909f0bf-3378x3265.webp%3Ffit%3Dmax%26auto%3Dformat&amp;w=640&amp;q=75 1x, /_next/image?url=https%3A%2F%2Fcdn.sanity.io%2Fimages%2F7m9jw85w%2Fproduction%2Fa195d5cbe68a6c2cb0847c985ead93111909f0bf-3378x3265.webp%3Ffit%3Dmax%26auto%3Dformat&amp;w=828&amp;q=75 2x" src="/_next/image?url=https%3A%2F%2Fcdn.sanity.io%2Fimages%2F7m9jw85w%2Fproduction%2Fa195d5cbe68a6c2cb0847c985ead93111909f0bf-3378x3265.webp%3Ffit%3Dmax%26auto%3Dformat&amp;w=828&amp;q=75"/></div><p class="Text_text__zPO0D Text_text-size-20__LNa6Q Text_text-weight-600__fKYth CardBlog_title__qC51U"><a href="/blog/querying-a-network-of-knowledge-with-llama-index-networks-d784b4c3006f">Querying a network of knowledge with llama-index-networks</a></p><p class="Text_text__zPO0D Text_text-size-16__PkjFu">2024-02-27</p></div></li><li><div class="CardBlog_card__mm0Zw"><div class="CardBlog_thumbnail__XCu_R"><img alt="" loading="lazy" width="400" height="280" decoding="async" data-nimg="1" class="CardBlog_image__I2Asd" style="color:transparent" srcSet="/_next/image?url=https%3A%2F%2Fcdn.sanity.io%2Fimages%2F7m9jw85w%2Fproduction%2F0e45151b7b56fda591f51cebb87cbfc436bcb697-1024x1024.png%3Ffit%3Dmax%26auto%3Dformat&amp;w=640&amp;q=75 1x, /_next/image?url=https%3A%2F%2Fcdn.sanity.io%2Fimages%2F7m9jw85w%2Fproduction%2F0e45151b7b56fda591f51cebb87cbfc436bcb697-1024x1024.png%3Ffit%3Dmax%26auto%3Dformat&amp;w=828&amp;q=75 2x" src="/_next/image?url=https%3A%2F%2Fcdn.sanity.io%2Fimages%2F7m9jw85w%2Fproduction%2F0e45151b7b56fda591f51cebb87cbfc436bcb697-1024x1024.png%3Ffit%3Dmax%26auto%3Dformat&amp;w=828&amp;q=75"/></div><p class="Text_text__zPO0D Text_text-size-20__LNa6Q Text_text-weight-600__fKYth CardBlog_title__qC51U"><a href="/blog/how-to-build-llm-agents-in-typescript-with-llamaindex-ts-a88ed364a7aa">How to build LLM Agents in TypeScript with LlamaIndex.TS</a></p><p class="Text_text__zPO0D Text_text-size-16__PkjFu">2024-02-08</p></div></li><li><div class="CardBlog_card__mm0Zw"><div class="CardBlog_thumbnail__XCu_R"><img alt="" loading="lazy" width="400" height="280" decoding="async" data-nimg="1" class="CardBlog_image__I2Asd" style="color:transparent" srcSet="/_next/image?url=https%3A%2F%2Fcdn.sanity.io%2Fimages%2F7m9jw85w%2Fproduction%2F8890c5098dbde95bd57d8c230fb46ee60bede234-2400x1420.png%3Ffit%3Dmax%26auto%3Dformat&amp;w=640&amp;q=75 1x, /_next/image?url=https%3A%2F%2Fcdn.sanity.io%2Fimages%2F7m9jw85w%2Fproduction%2F8890c5098dbde95bd57d8c230fb46ee60bede234-2400x1420.png%3Ffit%3Dmax%26auto%3Dformat&amp;w=828&amp;q=75 2x" src="/_next/image?url=https%3A%2F%2Fcdn.sanity.io%2Fimages%2F7m9jw85w%2Fproduction%2F8890c5098dbde95bd57d8c230fb46ee60bede234-2400x1420.png%3Ffit%3Dmax%26auto%3Dformat&amp;w=828&amp;q=75"/></div><p class="Text_text__zPO0D Text_text-size-20__LNa6Q Text_text-weight-600__fKYth CardBlog_title__qC51U"><a href="/blog/agentic-rag-with-llamaindex-2721b8a49ff6">Agentic RAG With LlamaIndex</a></p><p class="Text_text__zPO0D Text_text-size-16__PkjFu">2024-01-30</p></div></li><li><div class="CardBlog_card__mm0Zw"><div class="CardBlog_thumbnail__XCu_R"><img alt="" loading="lazy" width="400" height="280" decoding="async" data-nimg="1" class="CardBlog_image__I2Asd" style="color:transparent" srcSet="/_next/image?url=https%3A%2F%2Fcdn.sanity.io%2Fimages%2F7m9jw85w%2Fproduction%2F1f5feeb7c7670e074431b6788725fd576d8b4663-1024x1024.png%3Ffit%3Dmax%26auto%3Dformat&amp;w=640&amp;q=75 1x, /_next/image?url=https%3A%2F%2Fcdn.sanity.io%2Fimages%2F7m9jw85w%2Fproduction%2F1f5feeb7c7670e074431b6788725fd576d8b4663-1024x1024.png%3Ffit%3Dmax%26auto%3Dformat&amp;w=828&amp;q=75 2x" src="/_next/image?url=https%3A%2F%2Fcdn.sanity.io%2Fimages%2F7m9jw85w%2Fproduction%2F1f5feeb7c7670e074431b6788725fd576d8b4663-1024x1024.png%3Ffit%3Dmax%26auto%3Dformat&amp;w=828&amp;q=75"/></div><p class="Text_text__zPO0D Text_text-size-20__LNa6Q Text_text-weight-600__fKYth CardBlog_title__qC51U"><a href="/blog/how-to-train-a-custom-gpt-on-your-data-with-embedai-llamaindex-8a701d141070">How to train a custom GPT on your data with EmbedAI + LlamaIndex</a></p><p class="Text_text__zPO0D Text_text-size-16__PkjFu">2023-12-14</p></div></li></ul></div></section></main><footer class="Footer_footer__eNA9m"><div class="Footer_navContainer__7bvx4"><div class="Footer_logoContainer__3EpzI"><img alt="LlamaIndex" loading="lazy" width="213" height="42" decoding="async" data-nimg="1" style="color:transparent" src="/llamaindex.svg"/><div class="Footer_socialContainer__GdOgk"><ul class="Socials_socials__8Y_s5"><li><a href="https://github.com/run-llama/llama_index"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 496 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></a></li><li><a href="https://discord.com/invite/eN6D2HQ4aX"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 640 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M524.531,69.836a1.5,1.5,0,0,0-.764-.7A485.065,485.065,0,0,0,404.081,32.03a1.816,1.816,0,0,0-1.923.91,337.461,337.461,0,0,0-14.9,30.6,447.848,447.848,0,0,0-134.426,0,309.541,309.541,0,0,0-15.135-30.6,1.89,1.89,0,0,0-1.924-.91A483.689,483.689,0,0,0,116.085,69.137a1.712,1.712,0,0,0-.788.676C39.068,183.651,18.186,294.69,28.43,404.354a2.016,2.016,0,0,0,.765,1.375A487.666,487.666,0,0,0,176.02,479.918a1.9,1.9,0,0,0,2.063-.676A348.2,348.2,0,0,0,208.12,430.4a1.86,1.86,0,0,0-1.019-2.588,321.173,321.173,0,0,1-45.868-21.853,1.885,1.885,0,0,1-.185-3.126c3.082-2.309,6.166-4.711,9.109-7.137a1.819,1.819,0,0,1,1.9-.256c96.229,43.917,200.41,43.917,295.5,0a1.812,1.812,0,0,1,1.924.233c2.944,2.426,6.027,4.851,9.132,7.16a1.884,1.884,0,0,1-.162,3.126,301.407,301.407,0,0,1-45.89,21.83,1.875,1.875,0,0,0-1,2.611,391.055,391.055,0,0,0,30.014,48.815,1.864,1.864,0,0,0,2.063.7A486.048,486.048,0,0,0,610.7,405.729a1.882,1.882,0,0,0,.765-1.352C623.729,277.594,590.933,167.465,524.531,69.836ZM222.491,337.58c-28.972,0-52.844-26.587-52.844-59.239S193.056,219.1,222.491,219.1c29.665,0,53.306,26.82,52.843,59.239C275.334,310.993,251.924,337.58,222.491,337.58Zm195.38,0c-28.971,0-52.843-26.587-52.843-59.239S388.437,219.1,417.871,219.1c29.667,0,53.307,26.82,52.844,59.239C470.715,310.993,447.538,337.58,417.871,337.58Z"></path></svg></a></li><li><a href="https://twitter.com/llama_index"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z"></path></svg></a></li><li><a href="https://www.linkedin.com/company/91154103/"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"></path></svg></a></li><li><a href="https://www.youtube.com/@LlamaIndex"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 576 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"></path></svg></a></li></ul></div></div><div class="Footer_nav__BLEuE"><div><h3 class="Text_text__zPO0D Text_text-size-20__LNa6Q Text_text-weight-600__fKYth Footer_navHeader__9o83e"><a href="/">LlamaIndex</a></h3><ul><li><a href="/blog"><span class="Text_text__zPO0D Text_text-size-16__PkjFu">Blog</span></a></li><li><a href="/partners"><span class="Text_text__zPO0D Text_text-size-16__PkjFu">Partners</span></a></li><li><a href="/careers"><span class="Text_text__zPO0D Text_text-size-16__PkjFu">Careers</span></a></li><li><a href="/contact"><span class="Text_text__zPO0D Text_text-size-16__PkjFu">Contact</span></a></li><li><a href="/brand"><span class="Text_text__zPO0D Text_text-size-16__PkjFu">Brand</span></a></li><li><a href="https://llamaindex.statuspage.io" target="_blank"><span class="Text_text__zPO0D Text_text-size-16__PkjFu">Status</span></a></li><li><a href="https://app.vanta.com/runllama.ai/trust/pkcgbjf8b3ihxjpqdx17nu" target="_blank"><span class="Text_text__zPO0D Text_text-size-16__PkjFu">Trust Center</span></a></li></ul></div><div><h3 class="Text_text__zPO0D Text_text-size-20__LNa6Q Text_text-weight-600__fKYth Footer_navHeader__9o83e"><a href="/enterprise">Enterprise</a></h3><ul><li><a href="https://cloud.llamaindex.ai" data-tracking-variant="link" data-tracking-section="footer"><span class="Text_text__zPO0D Text_text-size-16__PkjFu">LlamaCloud</span></a></li><li><a href="https://cloud.llamaindex.ai/parse" data-tracking-variant="link" data-tracking-section="footer"><span class="Text_text__zPO0D Text_text-size-16__PkjFu">LlamaParse</span></a></li><li><a href="/customers"><span class="Text_text__zPO0D Text_text-size-16__PkjFu">Customers</span></a></li><li><a href="/llamacloud-sharepoint-data-loading-for-generative-ai" data-tracking-variant="link" data-tracking-section="footer"><span class="Text_text__zPO0D Text_text-size-16__PkjFu">SharePoint</span></a></li><li><a href="/llamacloud-aws-s3-data-loading-for-generative-ai" data-tracking-variant="link" data-tracking-section="footer"><span class="Text_text__zPO0D Text_text-size-16__PkjFu">AWS S3</span></a></li><li><a href="/llamacloud-azure-blob-storage-data-loading-for-generative-ai" data-tracking-variant="link" data-tracking-section="footer"><span class="Text_text__zPO0D Text_text-size-16__PkjFu">Azure Blob Storage</span></a></li><li><a href="/llamacloud-google-drive-data-loading-for-generative-ai" data-tracking-variant="link" data-tracking-section="footer"><span class="Text_text__zPO0D Text_text-size-16__PkjFu">Google Drive</span></a></li> </ul></div><div><h3 class="Text_text__zPO0D Text_text-size-20__LNa6Q Text_text-weight-600__fKYth Footer_navHeader__9o83e"><a href="/framework">Framework</a></h3><ul><li><a href="https://pypi.org/project/llama-index/"><span class="Text_text__zPO0D Text_text-size-16__PkjFu">Python package</span></a></li><li><a href="https://docs.llamaindex.ai"><span class="Text_text__zPO0D Text_text-size-16__PkjFu">Python docs</span></a></li><li><a href="https://www.npmjs.com/package/llamaindex"><span class="Text_text__zPO0D Text_text-size-16__PkjFu">TypeScript package</span></a></li><li><a href="https://ts.llamaindex.ai"><span class="Text_text__zPO0D Text_text-size-16__PkjFu">TypeScript docs</span></a></li><li><a href="https://llamahub.ai"><span class="Text_text__zPO0D Text_text-size-16__PkjFu">LlamaHub</span></a></li><li><a href="https://github.com/run-llama"><span class="Text_text__zPO0D Text_text-size-16__PkjFu">GitHub</span></a></li></ul></div><div><h3 class="Text_text__zPO0D Text_text-size-20__LNa6Q Text_text-weight-600__fKYth Footer_navHeader__9o83e"><a href="/community">Community</a></h3><ul><li><a href="/community#newsletter"><span class="Text_text__zPO0D Text_text-size-16__PkjFu">Newsletter</span></a></li><li><a href="https://discord.com/invite/eN6D2HQ4aX"><span class="Text_text__zPO0D Text_text-size-16__PkjFu">Discord</span></a></li><li><a href="https://www.linkedin.com/company/91154103/"><span class="Text_text__zPO0D Text_text-size-16__PkjFu">LinkedIn</span></a></li><li><a href="https://twitter.com/llama_index"><span class="Text_text__zPO0D Text_text-size-16__PkjFu">Twitter/X</span></a></li><li><a href="https://www.youtube.com/@LlamaIndex"><span class="Text_text__zPO0D Text_text-size-16__PkjFu">YouTube</span></a></li><li><a href="https://bsky.app/profile/llamaindex.bsky.social"><span class="Text_text__zPO0D Text_text-size-16__PkjFu">BlueSky</span></a></li></ul></div><div><h3 class="Text_text__zPO0D Text_text-size-20__LNa6Q Text_text-weight-600__fKYth Footer_navHeader__9o83e">Starter projects</h3><ul><li><a href="https://www.npmjs.com/package/create-llama"><span class="Text_text__zPO0D Text_text-size-16__PkjFu">create-llama</span></a></li><li><a href="https://secinsights.ai"><span class="Text_text__zPO0D Text_text-size-16__PkjFu">SEC Insights</span></a></li><li><a href="https://github.com/run-llama/llamabot"><span class="Text_text__zPO0D Text_text-size-16__PkjFu">LlamaBot</span></a></li><li><a href="https://docs.llamaindex.ai/en/stable/use_cases/q_and_a/rag_cli.html"><span class="Text_text__zPO0D Text_text-size-16__PkjFu">RAG CLI</span></a></li></ul></div></div></div><div class="Footer_copyrightContainer__mBKsT"><p class="Text_text__zPO0D Text_text-size-14__6Qc26 Footer_copyright__vFlrA">© <!-- -->2025<!-- --> LlamaIndex</p><div class="Footer_legalNav__O1yJA"><p class="Text_text__zPO0D Text_text-size-14__6Qc26 Footer_copyright__vFlrA"><a href="/files/privacy-notice.pdf">Privacy Notice</a></p><p class="Text_text__zPO0D Text_text-size-14__6Qc26 Footer_copyright__vFlrA"><a href="/files/terms-of-service.pdf">Terms of Service</a></p><p class="Text_text__zPO0D Text_text-size-14__6Qc26 Footer_copyright__vFlrA"><a href="https://bit.ly/llamaindexdpa">Data Processing Addendum</a></p></div></div></footer></div><svg xmlns="http://www.w3.org/2000/svg" class="flt_svg" style="display:none"><defs><filter id="flt_tag"><feGaussianBlur in="SourceGraphic" result="blur" stdDeviation="2"></feGaussianBlur><feColorMatrix in="blur" result="flt_tag" values="1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 19 -9"></feColorMatrix><feComposite in="SourceGraphic" in2="flt_tag" operator="atop"></feComposite></filter><filter id="svg_blur_large"><feGaussianBlur in="SourceGraphic" result="blur" stdDeviation="8"></feGaussianBlur><feColorMatrix in="blur" result="svg_blur_large" values="1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 19 -9"></feColorMatrix><feComposite in="SourceGraphic" in2="svg_blur_large" operator="atop"></feComposite></filter></defs></svg></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"page":{"announcement":{"_createdAt":"2024-12-15T02:26:13Z","_id":"announcement","_rev":"bDjEm7gsnDBrRrmjaaG2yK","_type":"announcement","_updatedAt":"2025-05-19T19:20:19Z","title":"Meet LlamaIndex at the Databricks Data + AI Summit!","url":"http://48755185.hs-sites.com/llamaindex-0"},"post":{"_createdAt":"2024-02-22T21:48:20Z","_id":"8b48926d-ea7a-4ee9-a142-fdf4688c840e","_rev":"TLgH6AcXrxoqw75SBDhigD","_type":"blogPost","_updatedAt":"2025-05-21T20:38:34Z","announcement":[{"_createdAt":"2024-12-15T02:26:13Z","_id":"announcement","_rev":"bDjEm7gsnDBrRrmjaaG2yK","_type":"announcement","_updatedAt":"2025-05-19T19:20:19Z","title":"Meet LlamaIndex at the Databricks Data + AI Summit!","url":"http://48755185.hs-sites.com/llamaindex-0"}],"authors":[{"_createdAt":"2024-02-22T19:59:39Z","_id":"26898661-ce74-4e56-a3bb-21000059ea8d","_rev":"1yZmiycp7gyBYGbmM40Ock","_type":"people","_updatedAt":"2025-05-07T15:41:41Z","image":{"_type":"image","asset":{"_ref":"image-e4426ff6862cbb8bec81b8407730e6e1e9383c8f-2176x2176-jpg","_type":"reference"}},"name":"Jerry Liu","position":"CEO","slug":{"_type":"slug","current":"jerry-liu"}}],"featured":false,"htmlContent":"\u003ch1\u003eSummary\u003c/h1\u003e\u003cp\u003eIn this article, we showcase a powerful new query engine ( \u003ccode class=\"cw ow ox oy oz b\"\u003eSQLAutoVectorQueryEngine\u003c/code\u003e ) in LlamaIndex that can leverage both a SQL database as well as a vector store to fulfill complex natural language queries over a combination of structured and unstructured data. This query engine can leverage the expressivity of SQL over structured data, and join it with unstructured context from a vector database. We showcase this query engine on a few examples and show that it can handle queries that make use of both structured/unstructured data, or either.\u003c/p\u003e\u003cp\u003eCheck out the full guide here: \u003ca href=\"https://gpt-index.readthedocs.io/en/latest/examples/query_engine/SQLAutoVectorQueryEngine.html\" rel=\"noopener ugc nofollow\" target=\"_blank\"\u003ehttps://gpt-index.readthedocs.io/en/latest/examples/query_engine/SQLAutoVectorQueryEngine.html\u003c/a\u003e.\u003c/p\u003e\u003ch1\u003eContext\u003c/h1\u003e\u003cp\u003eData lakes in enterprises typically encompass both \u003cstrong\u003estructured\u003c/strong\u003e and \u003cstrong\u003eunstructured\u003c/strong\u003e data. Structured data is typically stored in a tabular format in SQL databases, organized into tables with predefined schemas and relationships between entities. On the other hand, unstructured data found in data lakes lacks a predefined structure and does not fit neatly into traditional databases. This type of data includes text documents, but also other multimodal formats such as audio recordings, videos, and more.\u003c/p\u003e\u003cp\u003eLarge Language Models (LLMs) have the ability to extract insights from both structured and unstructured data. There have been some initial tooling and stacks that have emerged for tackling both types of data:\u003c/p\u003e\u003cul\u003e\u003cli\u003e\u003cstrong\u003eText-to-SQL (Structured data): \u003c/strong\u003eGiven a collection of tabular schemas, we convert\u003cstrong\u003e \u003c/strong\u003enatural language into a SQL statement which can then be executed against the database.\u003c/li\u003e\u003cli\u003e\u003cstrong\u003eSemantic Search with a Vector Database (Unstructured Data): \u003c/strong\u003eStore unstructured documents along with their embeddings in a vector database (e.g. Pinecone, Chroma, Milvus, Weaviate, etc.). During query-time, fetch the relevant documents by embedding similarity, and then put into the LLM input prompt to synthesize a response.\u003c/li\u003e\u003c/ul\u003e\u003cp\u003eEach of these stacks solves particular use cases.\u003c/p\u003e\u003ch2\u003eText-to-SQL Over Structured Data\u003c/h2\u003e\u003cp\u003eIn the structured setting, SQL is an extremely expressive language for operating over tabular data — in the case of analytics, you can get aggregations, join information across multiple tables, sort by timestamp, and much more. Using the LLM to convert natural language to SQL can be thought as a program synthesis “cheat code” — just let the LLM compile to the right SQL query, and let the SQL engine on the database handle the rest!\u003c/p\u003e\u003cp\u003e\u003cstrong\u003eUse Case: \u003c/strong\u003eText-to-SQL queries are well-suited for analytics use cases where the answer can be found by executing a SQL statement. They are not suited for cases where you’d need more detail than what is found in a structured table, or if you’d need more sophisticated ways of determining relevance to the query beyond simple constructs like \u003ccode class=\"cw ow ox oy oz b\"\u003eWHERE\u003c/code\u003e conditions.\u003c/p\u003e\u003cp\u003e\u003cstrong\u003eExample queries suited for Text-to-SQL:\u003c/strong\u003e\u003c/p\u003e\u003cul\u003e\u003cli\u003e“What is the average population of cities in North America”?\u003c/li\u003e\u003cli\u003e“What are the largest cities and populations in each respective continent?”\u003c/li\u003e\u003c/ul\u003e\u003ch2\u003eSemantic Search over Unstructured Data\u003c/h2\u003e\u003cp\u003eIn the unstructured setting, the behavior for retrieval-augmented generation systems is to first perform retrieval and then synthesis. During retrieval, we first look up the most relevant documents to the query by embedding similarity. Some vector stores support being able to handle additional metadata filters for retrieval. We can choose to manually specify the set of required filters, or have the LLM “infer” what the query string and metadata filters should be (see our \u003ca href=\"https://github.com/jerryjliu/llama_index/blob/main/docs/examples/vector_stores/pinecone_auto_retriever.ipynb\" rel=\"noopener ugc nofollow\" target=\"_blank\"\u003eauto-retrieval modules\u003c/a\u003e in LlamaIndex or LangChain’s \u003ca href=\"https://python.langchain.com/en/latest/modules/indexes/retrievers/examples/self_query.html\" rel=\"noopener ugc nofollow\" target=\"_blank\"\u003eself-query module\u003c/a\u003e).\u003c/p\u003e\u003cp\u003e\u003cstrong\u003eUse Case: \u003c/strong\u003eRetrieval Augmented Generation is well suited for queries where the answer can be obtained within some sections of unstructured text data. Most existing vector stores (e.g. Pinecone, Chroma) do not offer a SQL-like interface; hence they are less suited for queries that involve aggregations, joins, sums, etc.\u003c/p\u003e\u003cp\u003e\u003cstrong\u003eExample queries suited for Retrieval Augmented Generation\u003c/strong\u003e\u003c/p\u003e\u003cul\u003e\u003cli\u003e“Tell me about the historical museums in Berlin”\u003c/li\u003e\u003cli\u003e“What does Jordan ask from Nick on behalf of Gatsby?”\u003c/li\u003e\u003c/ul\u003e\u003ch2\u003eCombining These Two Systems\u003c/h2\u003e\u003cp\u003eFor some queries, we may want to make use of knowledge in \u003cstrong\u003eboth structured tables as well as vector databases/document stores\u003c/strong\u003e in order to give the best answer to the query. Ideally this can give us the best of both worlds: the analytics capabilities over structured data, and semantic understanding over unstructured data.\u003c/p\u003e\u003cp\u003eHere’s an example use case:\u003c/p\u003e\u003cul\u003e\u003cli\u003eYou have access to a collection of articles about different cities, stored in a vector database\u003c/li\u003e\u003cli\u003eYou also have access to a structured table containing statistics for each city.\u003c/li\u003e\u003c/ul\u003e\u003cp\u003eGiven this data collection, let’s take an example query: “Tell me about the arts and culture of the city with the highest population.”\u003c/p\u003e\u003cp\u003eThe “proper” way to answer this question is roughly as follows:\u003c/p\u003e\u003cul\u003e\u003cli\u003eQuery the structured table for the city with the highest population.\u003c/li\u003e\u003c/ul\u003e\u003cpre\u003e\u003cspan id=\"3ee1\" class=\"ql nb gt oz b bf qm qn l qo qp\"\u003eSELECT city, population FROM city_stats ORDER BY population DESC LIMIT 1\u003c/span\u003e\u003c/pre\u003e\u003cul\u003e\u003cli\u003eConvert the original question into a more detailed question: “Tell me about the arts and culture of Tokyo.”\u003c/li\u003e\u003cli\u003eAsk the new question over your vector database.\u003c/li\u003e\u003cli\u003eUse the original question + intermediate queries/responses to SQL db and vector db to synthesize the answer.\u003c/li\u003e\u003c/ul\u003e\u003cp\u003eLet’s think about some of the high-level implications of such a sequence:\u003c/p\u003e\u003cul\u003e\u003cli\u003eInstead of doing embedding search (and optionally metadata filters) to retrieve relevant context, we want to somehow have a SQL query as a first “retrieval” step.\u003c/li\u003e\u003cli\u003eWe want to make sure that we can somehow “join” the results from the SQL query with the context stored in the vector database. There is no existing language to “join” information between a SQL and vector database. We will have to implement this behavior ourselves.\u003c/li\u003e\u003cli\u003eNeither data source can answer this question on its own. The structured table only contains population information. The vector database contains city information but no easy way to query for the city with the maximum population.\u003c/li\u003e\u003c/ul\u003e\u003ch1\u003eA Query Engine to Combine Structured Analytics and Semantic Search\u003c/h1\u003e\u003cp\u003eWe have created a brand-new query engine ( \u003ccode class=\"cw ow ox oy oz b\"\u003eSQLAutoVectorQueryEngine\u003c/code\u003e ) that can query, join, sequence, and combine both structured data from both your SQL database and unstructured data from your vector database in order to synthesize the final answer.\u003c/p\u003e\u003cp\u003eThe \u003ccode class=\"cw ow ox oy oz b\"\u003eSQLAutoVectorQueryEngine\u003c/code\u003e is initialized through passing in a SQL query engine ( \u003ccode class=\"cw ow ox oy oz b\"\u003eGPTNLStructStoreQueryEngine\u003c/code\u003e ) as well as a query engine that uses our vector store \u003ca href=\"https://github.com/jerryjliu/llama_index/blob/main/docs/examples/vector_stores/pinecone_auto_retriever.ipynb\" rel=\"noopener ugc nofollow\" target=\"_blank\"\u003eauto-retriever module\u003c/a\u003e ( \u003ccode class=\"cw ow ox oy oz b\"\u003eVectorIndexAutoRetriever\u003c/code\u003e ). Both the SQL query engine and vector query engines are wrapped as “Tool” objects containing a \u003ccode class=\"cw ow ox oy oz b\"\u003ename\u003c/code\u003e and \u003ccode class=\"cw ow ox oy oz b\"\u003edescription\u003c/code\u003e field.\u003c/p\u003e\u003cblockquote\u003e\u003cp id=\"ccd6\" class=\"ny nz qt oa b ob pa od oe of pb oh oi oj pc ol om on pd op oq or pe ot ou ov gm bj\"\u003e\u003cem class=\"gt\"\u003eReminder: the \u003c/em\u003e\u003ccode class=\"cw ow ox oy oz b\"\u003e\u003cem class=\"gt\"\u003eVectorIndexAutoRetriever\u003c/em\u003e\u003c/code\u003e\u003cem class=\"gt\"\u003e takes in a natural language query as input. Given some knowledge of the metadata schema of the vector database, the auto retriever first \u003c/em\u003einfers \u003cem class=\"gt\"\u003ethe other necessary query parameters to pass in (e.g. top-k value, and metadata filters), and executes a query against the vector database with all the query parameters.\u003c/em\u003e\u003c/p\u003e\u003c/blockquote\u003e\u003cfigure\u003e\u003cfigcaption class=\"rd fe re qu qv rf rg be b bf z dt\"\u003eDiagram of the flow for SQLAutoVectorQueryEngine\u003c/figcaption\u003e\u003cimg src=\"/blog/images/1*_sGOqeDsgKA5XYoJeZXB3g.png\" alt=\"\" width=\"700\" height=\"308\"\u003e\u003c/figure\u003e\u003cp\u003eDuring query-time, we run the following steps:\u003c/p\u003e\u003col\u003e\u003cli\u003eA selector prompt (similarly used in our \u003ccode class=\"cw ow ox oy oz b\"\u003e\u003ca href=\"https://gpt-index.readthedocs.io/en/latest/reference/query/query_engines/router_query_engine.html\" rel=\"noopener ugc nofollow\" target=\"_blank\"\u003eRouterQueryEngine\u003c/a\u003e\u003c/code\u003e , see \u003ca href=\"https://gpt-index.readthedocs.io/en/latest/examples/query_engine/RouterQueryEngine.html\" rel=\"noopener ugc nofollow\" target=\"_blank\"\u003eguide\u003c/a\u003e) first chooses whether we should query the SQL database or the vector database. If it chooses to use the vector query engine, then the rest of the function execution is the same as querying the \u003ccode class=\"cw ow ox oy oz b\"\u003eRetrieverQueryEngine\u003c/code\u003e with \u003ccode class=\"cw ow ox oy oz b\"\u003eVectorIndexAutoRetriever\u003c/code\u003e .\u003c/li\u003e\u003cli\u003eIf it chooses to query the SQL database, it will execute a text-to-SQL query operation against the database, and (optionally) synthesize a natural language output.\u003c/li\u003e\u003cli\u003eA \u003cstrong\u003equery transformation \u003c/strong\u003eis run, to convert the original question into a more detailed question given the results from the SQL query. For instance if the original question is “Tell me about the arts and culture of the city with the highest population.”, and the SQL query returns Tokyo as the city with the highest population, then the new query is “Tell me about the arts and culture of Tokyo.” The one exception is if the SQL query itself is enough to answer the original question; if it is, then function execution returns with the SQL query as the response.\u003c/li\u003e\u003cli\u003eThe new query is then run through through the vector store query engine, which performs retrieval from the vector store and then LLM response synthesis. We enforce using a \u003ccode class=\"cw ow ox oy oz b\"\u003eVectorIndexAutoRetriever\u003c/code\u003e module. This allows us to automatically infer the right query parameters (query string, top k, metadata filters), given the result of the SQL query. For instance, with the example above, we may infer the query to be something like \u003ccode class=\"cw ow ox oy oz b\"\u003equery_str=\"arts and culture\"\u003c/code\u003e and \u003ccode class=\"cw ow ox oy oz b\"\u003efilters={\"title\": \"Tokyo\"}\u003c/code\u003e .\u003c/li\u003e\u003cli\u003eThe original question, SQL query, SQL response, vector store query, and vector store response are combined into a prompt to synthesize the final answer.\u003c/li\u003e\u003c/ol\u003e\u003cp\u003eTaking a step back, here are some general comments about this approach:\u003c/p\u003e\u003cul\u003e\u003cli\u003eUsing our auto-retrieval module is our way of \u003cem class=\"qt\"\u003esimulating \u003c/em\u003ea join between the SQL database and vector database. We effectively use the results from our SQL query to determine the parameters to query the vector database with.\u003c/li\u003e\u003cli\u003eThis also implies that there doesn’t need to be an explicit mapping between the items in the SQL database and the metadata in the vector database, since we can rely on the LLM being able come up with the right query for different items. It would be interesting to model explicit relationships between structured tables and document store metadata though; that way we don’t need to spend an extra LLM call in the auto-retrieval step inferring the right metadata filters.\u003c/li\u003e\u003c/ul\u003e\u003ch1\u003eExperiments\u003c/h1\u003e\u003cp\u003eSo how well does this work? It works surprisingly well across a broad range of queries, from queries that can leverage both structured data and unstructured data to queries that are specific to a structured data collection or unstructured data collection.\u003c/p\u003e\u003ch2\u003eSetup\u003c/h2\u003e\u003cp\u003eOur experiment setup is very simple. We have a SQL table called \u003ccode class=\"cw ow ox oy oz b\"\u003ecity_stats\u003c/code\u003e which contains the city, population, and country of three different cities: Toronto, Tokyo, and Berlin.\u003c/p\u003e\u003cp\u003eWe also use a Pinecone index to store Wikipedia articles corresponding to the three cities. Each article is chunked up and stored as a separate “Node” object; each chunk also contains a \u003ccode class=\"cw ow ox oy oz b\"\u003etitle\u003c/code\u003e metadata attribute containing the city name.\u003c/p\u003e\u003cp\u003eWe then derive the \u003ccode class=\"cw ow ox oy oz b\"\u003eVectorIndexAutoRetriever\u003c/code\u003e and \u003ccode class=\"cw ow ox oy oz b\"\u003eRetrieverQueryEngine\u003c/code\u003e from the Pinecone vector index.\u003c/p\u003e\u003cpre\u003e\u003cspan id=\"ceda\" class=\"ql nb gt oz b bf qm qn l qo qp\"\u003e\u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e llama_index.indices.vector_store.retrievers \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e VectorIndexAutoRetriever\n\u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e llama_index.vector_stores.types \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e MetadataInfo, VectorStoreInfo\n\u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e llama_index.query_engine.retriever_query_engine \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e RetrieverQueryEngine\n\n\nvector_store_info = VectorStoreInfo(\n    content_info=\u003cspan class=\"hljs-string\"\u003e'articles about different cities'\u003c/span\u003e,\n    metadata_info=[\n        MetadataInfo(\n            name=\u003cspan class=\"hljs-string\"\u003e'city'\u003c/span\u003e, \n            \u003cspan class=\"hljs-built_in\"\u003etype\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e'str'\u003c/span\u003e, \n            description=\u003cspan class=\"hljs-string\"\u003e'The name of the city'\u003c/span\u003e),\n    ]\n)\nvector_auto_retriever = VectorIndexAutoRetriever(vector_index, vector_store_info=vector_store_info)\n\nretriever_query_engine = RetrieverQueryEngine.from_args(\n    vector_auto_retriever, service_context=service_context\n)\u003c/span\u003e\u003c/pre\u003e\u003cp\u003eYou can also get the SQL query engine as follows\u003c/p\u003e\u003cpre\u003e\u003cspan id=\"6fc8\" class=\"ql nb gt oz b bf qm qn l qo qp\"\u003esql_query_engine = sql_index.as_query_engine()\u003c/span\u003e\u003c/pre\u003e\u003cp\u003eBoth the SQL query engine and vector query engine can be wrapped as \u003ccode class=\"cw ow ox oy oz b\"\u003eQueryEngineTool\u003c/code\u003e objects.\u003c/p\u003e\u003cpre\u003e\u003cspan id=\"0ec3\" class=\"ql nb gt oz b bf qm qn l qo qp\"\u003esql_tool = QueryEngineTool.from_defaults(\n    query_engine=sql_query_engine,\n    description=(\n        'Useful for translating a natural language query into a SQL query over a table containing: '\n        'city_stats, containing the population/country of each city'\n    )\n)\nvector_tool = QueryEngineTool.from_defaults(\n    query_engine=query_engine,\n    description=f'Useful for answering semantic questions about different cities',\n)\u003c/span\u003e\u003c/pre\u003e\u003cp\u003eFinally, we can define our \u003ccode class=\"cw ow ox oy oz b\"\u003eSQLAutoVectorQueryEngine\u003c/code\u003e\u003c/p\u003e\u003cpre\u003e\u003cspan id=\"4360\" class=\"ql nb gt oz b bf qm qn l qo qp\"\u003equery_engine = SQLAutoVectorQueryEngine(\n    sql_tool,\n    vector_tool,\n    service_context=service_context\n)\u003c/span\u003e\u003c/pre\u003e\u003ch2\u003eResults\u003c/h2\u003e\u003cp\u003eWe run some example queries.\u003c/p\u003e\u003cp\u003e\u003cstrong\u003eQuery 1\u003c/strong\u003e\u003c/p\u003e\u003cpre\u003e\u003cspan id=\"33a8\" class=\"ql nb gt oz b bf qm qn l qo qp\"\u003equery_engine.query(\n  'Tell me about the arts and culture of the city with the highest population'\n)\u003c/span\u003e\u003c/pre\u003e\u003cp\u003eIntermediate steps:\u003c/p\u003e\u003cfigure\u003e\u003cimg src=\"/blog/images/1*T4W6P-jNV5FnT-O83KlGAg.png\" alt=\"\" width=\"700\" height=\"356\"\u003e\u003c/figure\u003e\u003cp\u003eFinal Response:\u003c/p\u003e\u003cpre\u003e\u003cspan id=\"4e6d\" class=\"ql nb gt oz b bf qm qn l qo qp\"\u003eTokyo is the city with the highest population, with 13.96 million people. It is a vibrant city with a rich culture and a wide variety of art forms. From traditional Japanese art such as calligraphy and woodblock prints to modern art galleries and museums, Tokyo has something for everyone. There are also many festivals and events throughout the year that celebrate the city's culture and art. Some popular festivals and events in Tokyo include the Sannō Festival at Hie Shrine, the Sanja Festival at Asakusa Shrine, and the biennial Kanda Festivals. These events often feature parades with elaborately decorated floats and thousands of people. Additionally, an enormous fireworks display over the Sumida River takes place annually on the last Saturday of July, attracting over a million viewers. During spring, when cherry blossoms bloom, many residents gather in Ueno Park, Inokashira Park, and the Shinjuku Gyoen National Garden for picnics under the blossoms.\u003c/span\u003e\u003c/pre\u003e\u003cp\u003eThis query runs through the full flow of the \u003ccode class=\"cw ow ox oy oz b\"\u003eSQLAutoVectorQueryEngine\u003c/code\u003e . It first queries the SQL database for the city with the highest population (“Tokyo”), and then queries the vector database with the new query. The results are combined into a final response.\u003c/p\u003e\u003cp\u003e\u003cstrong\u003eQuery 2\u003c/strong\u003e\u003c/p\u003e\u003cpre\u003e\u003cspan id=\"8832\" class=\"ql nb gt oz b bf qm qn l qo qp\"\u003equery_engine.query(\"Tell me about the history of Berlin\")\u003c/span\u003e\u003c/pre\u003e\u003cp\u003eIntermediate Steps:\u003c/p\u003e\u003cfigure\u003e\u003cimg src=\"/blog/images/1*AUsRmLr0Haw1MgA3nfcHaw.png\" alt=\"\" width=\"700\" height=\"221\"\u003e\u003c/figure\u003e\u003cp\u003eFinal Response:\u003c/p\u003e\u003cpre\u003e\u003cspan id=\"82a0\" class=\"ql nb gt oz b bf qm qn l qo qp\"\u003eBerlin's history dates back to the early 13th century when it was founded as a small settlement. In 1618, the Margraviate of Brandenburg entered into a personal union with the Duchy of Prussia, and in 1701, they formed the Kingdom of Prussia with Berlin as its capital. The city grew and merged with neighboring cities, becoming a center of the Enlightenment under the rule of Frederick the Great in the 18th century.\n\nThe Industrial Revolution in the 19th century transformed Berlin, expanding its economy, population, and infrastructure. In 1871, it became the capital of the newly founded German Empire. The early 20th century saw Berlin as a hub for the German Expressionist movement and a major world capital known for its contributions to science, technology, arts, and other fields.\n\nIn 1933, Adolf Hitler and the Nazi Party came to power, leading to a decline in Berlin's Jewish community and the city's involvement in World War II. After the war, Berlin was divided into East and West Berlin, with the former under Soviet control and the latter under the control of the United States, United Kingdom, and France. The Berlin Wall was built in 1961, physically and ideologically dividing the city until its fall in 1989. Following the reunification of Germany in 1990, Berlin once again became the capital of a unified Germany and has since continued to grow and develop as a major global city.\u003c/span\u003e\u003c/pre\u003e\u003cp\u003eThis query only requires the vector database and not the SQL database. The initial selector correctly identifies that we should just query the vector database and return the result.\u003c/p\u003e\u003cp\u003e\u003cstrong\u003eQuery 3\u003c/strong\u003e\u003c/p\u003e\u003cpre\u003e\u003cspan id=\"da77\" class=\"ql nb gt oz b bf qm qn l qo qp\"\u003equery_engine.query('Can you give me the country corresponding to each city?')\u003c/span\u003e\u003c/pre\u003e\u003cp\u003eIntermediate Steps\u003c/p\u003e\u003cfigure\u003e\u003cimg src=\"/blog/images/1*iy0MAKzIpQXhoiWUFR4tHQ.png\" alt=\"\" width=\"700\" height=\"69\"\u003e\u003c/figure\u003e\u003cp\u003eFinal Response\u003c/p\u003e\u003cpre\u003e\u003cspan id=\"27de\" class=\"ql nb gt oz b bf qm qn l qo qp\"\u003e Toronto is in Canada, Tokyo is in Japan, and Berlin is in Germany.\u003c/span\u003e\u003c/pre\u003e\u003cp\u003eThis query can be answered by just querying the SQL database, it does not need additional information from the vector database. The query transform step correctly identifies “None” as the followup question, indicating that the original question has been answered.\u003c/p\u003e\u003ch1\u003eConclusion\u003c/h1\u003e\u003cp\u003eSo far, the stacks around LLMs + unstructured data and LLMs + structured data have largely been separate. We’re excited about how combining LLMs on top of both structured and unstructured data can unlock new retrieval/query capabilities in novel and interesting ways!\u003c/p\u003e\u003cp\u003eWe’d love for you to try out the \u003ccode class=\"cw ow ox oy oz b\"\u003eSQLAutoVectorQueryEngine\u003c/code\u003e and let us know what you think.\u003c/p\u003e\u003cp\u003eThe full notebook walkthrough can be found \u003ca href=\"https://gpt-index.readthedocs.io/en/latest/examples/query_engine/SQLAutoVectorQueryEngine.html\" rel=\"noopener ugc nofollow\" target=\"_blank\"\u003ein this guide\u003c/a\u003e (\u003ca href=\"https://github.com/jerryjliu/llama_index/blob/main/docs/examples/query_engine/SQLAutoVectorQueryEngine.ipynb\" rel=\"noopener ugc nofollow\" target=\"_blank\"\u003eassociated notebook\u003c/a\u003e).\u003c/p\u003e","image":{"_type":"image","asset":{"_ref":"image-d7fa7969f759222833f61b44703d736d209b1f31-3606x1586-png","_type":"reference"}},"mainImage":"https://cdn.sanity.io/images/7m9jw85w/production/d7fa7969f759222833f61b44703d736d209b1f31-3606x1586.png","publishedDate":"2023-05-28","relatedPosts":[{"featured":false,"image":{"_type":"image","asset":{"_ref":"image-a195d5cbe68a6c2cb0847c985ead93111909f0bf-3378x3265-webp","_type":"reference"}},"publishedDate":"2024-02-27","slug":"querying-a-network-of-knowledge-with-llama-index-networks-d784b4c3006f","title":"Querying a network of knowledge with llama-index-networks"},{"featured":false,"image":{"_type":"image","asset":{"_ref":"image-0e45151b7b56fda591f51cebb87cbfc436bcb697-1024x1024-png","_type":"reference"}},"publishedDate":"2024-02-08","slug":"how-to-build-llm-agents-in-typescript-with-llamaindex-ts-a88ed364a7aa","title":"How to build LLM Agents in TypeScript with LlamaIndex.TS"},{"featured":false,"image":{"_type":"image","asset":{"_ref":"image-8890c5098dbde95bd57d8c230fb46ee60bede234-2400x1420-png","_type":"reference"}},"publishedDate":"2024-01-30","slug":"agentic-rag-with-llamaindex-2721b8a49ff6","title":"Agentic RAG With LlamaIndex"},{"featured":false,"image":{"_type":"image","asset":{"_ref":"image-1f5feeb7c7670e074431b6788725fd576d8b4663-1024x1024-png","_type":"reference"}},"publishedDate":"2023-12-14","slug":"how-to-train-a-custom-gpt-on-your-data-with-embedai-llamaindex-8a701d141070","title":"How to train a custom GPT on your data with EmbedAI + LlamaIndex"}],"slug":{"_type":"slug","current":"combining-text-to-sql-with-semantic-search-for-retrieval-augmented-generation-c60af30ec3b"},"tags":[{"_createdAt":"2024-02-22T20:19:11Z","_id":"3d5b5d70-cd50-435c-86e7-3ba4c4c44d61","_rev":"9mLWnJtMvL1OgKPLcXbz07","_type":"blogTag","_updatedAt":"2024-02-22T20:19:11Z","slug":{"_type":"slug","current":"artificial-intelligence"},"title":"Artificial Intelligence"},{"_createdAt":"2024-02-22T20:19:11Z","_id":"3e4feb2c-4916-495e-a9db-a829131f6c42","_rev":"9mLWnJtMvL1OgKPLcXbz07","_type":"blogTag","_updatedAt":"2024-02-22T20:19:11Z","slug":{"_type":"slug","current":"machine-learning"},"title":"Machine Learning"},{"_createdAt":"2024-02-22T20:19:13Z","_id":"78713226-8bff-400f-bbfe-fd8a3d90be1d","_rev":"9mLWnJtMvL1OgKPLcXbz07","_type":"blogTag","_updatedAt":"2024-02-22T20:19:13Z","slug":{"_type":"slug","current":"nlp"},"title":"NLP"},{"_createdAt":"2024-02-22T20:19:14Z","_id":"011c1f4b-7dd2-4f1f-8e27-3d18056cfa86","_rev":"9mLWnJtMvL1OgKPLcXbz07","_type":"blogTag","_updatedAt":"2024-02-22T20:19:14Z","slug":{"_type":"slug","current":"data-science"},"title":"Data Science"},{"_createdAt":"2024-02-22T20:19:14Z","_id":"b850201a-2bf1-4817-8d44-e1aa51eb666b","_rev":"9mLWnJtMvL1OgKPLcXbz07","_type":"blogTag","_updatedAt":"2024-02-22T20:19:14Z","slug":{"_type":"slug","current":"database"},"title":"Database"}],"title":"Combining Text-to-SQL with Semantic Search for Retrieval Augmented Generation"},"publishedDate":"Invalid Date"},"params":{"slug":"combining-text-to-sql-with-semantic-search-for-retrieval-augmented-generation-c60af30ec3b"},"draftMode":false,"token":""},"__N_SSG":true},"page":"/blog/[slug]","query":{"slug":"combining-text-to-sql-with-semantic-search-for-retrieval-augmented-generation-c60af30ec3b"},"buildId":"C8J-EMc_4OCN1ch65l4fl","isFallback":false,"isExperimentalCompile":false,"gsp":true,"scriptLoader":[]}</script></body></html>